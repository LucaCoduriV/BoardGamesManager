<div *ngIf="gameService.detailedGameData" class="game-card">
    <app-loading-spinner
        *ngIf="gameService.isLoadingDetails"
    ></app-loading-spinner>
    <!-- start !isCollection condition -->
    <div class="details" *ngIf="!isCollection && gameService.detailedGameData">
        <div class="title">
            <h1
                *ngIf="
                    (gameService.detailedGameData?.item.name)[0]?.value;
                    else elseBlock
                "
            >
                {{ (gameService.detailedGameData?.item.name)[0].value }}
            </h1>
            <ng-template #elseBlock>
                <h1>
                    {{ (gameService.detailedGameData?.item.name).value }}
                </h1>
            </ng-template>

            <h2>
                {{ gameService.detailedGameData?.item.yearpublished.value }}
            </h2>
        </div>

        <div class="horizontal">
            <div class="time">
                <img width="25px" src="assets/icones/time.svg" />
                <span class="time"
                    >{{
                        gameService.detailedGameData?.item.playingtime.value
                    }}
                    minutes</span
                >
            </div>
            <div class="nb-player">
                <img width="25px" src="assets/icones/user.svg" />
                <span class="nb-player"
                    >{{
                        gameService.detailedGameData?.item.minplayers.value
                    }}-{{
                        gameService.detailedGameData?.item.maxplayers.value
                    }}
                    joueurs</span
                >
            </div>
        </div>

        <p
            class="description c-scrollbar"
            [innerHTML]="gameService.detailedGameData?.item.description"
        ></p>
    </div>
    <!-- end !isCollection condition -->
    <!-- start isCollection condition -->
    <div
        class="details"
        *ngIf="isCollection && gameService.detailedGameData != undefined"
    >
        <div class="title">
            <h1>
                {{ gameService.detailedGameData[0]?.name }}
            </h1>

            <h2>
                {{ gameService.detailedGameData[0]?.creationDate }}
            </h2>
        </div>

        <div class="horizontal">
            <div class="time">
                <img width="25px" src="assets/icones/time.svg" />
                <span class="time"
                    >{{
                        gameService.detailedGameData[0]?.duration
                    }}
                    minutes</span
                >
            </div>
            <div class="nb-player">
                <img width="25px" src="assets/icones/user.svg" />
                <span class="nb-player"
                    >{{ gameService.detailedGameData[0]?.minNbPlayer }}-{{
                        gameService.detailedGameData[0]?.maxNbPlayer
                    }}
                    joueurs</span
                >
            </div>
        </div>

        <p
            class="description c-scrollbar"
            [innerHTML]="gameService.detailedGameData[0]?.description"
        ></p>
    </div>
    <!-- end isCollection condition -->
    <div
        *ngIf="!isCollection && gameService.detailedGameData"
        class="card-image"
        [ngStyle]="
            gameService.detailedGameData?.item.image && {
                background:
                    'url(' + gameService.detailedGameData.item.image + ')'
            }
        "
    ></div>
    <div
        *ngIf="isCollection && gameService.detailedGameData != undefined"
        class="card-image"
        [ngStyle]="
            gameService.detailedGameData[0]?.image && {
                background:
                    'url(' + gameService.detailedGameData[0]?.image + ')'
            }
        "
    ></div>
    <div *ngIf="!isCollection" class="btn-add" (click)="add()">
        <img src="assets/icones/add.svg" alt="add" width="40px" />
    </div>
    <div *ngIf="isCollection" class="btn-edit" (click)="edit()">
        <img src="assets/icones/edit.svg" alt="add" width="20px" />
    </div>
    <div *ngIf="isCollection" class="btn-delete" (click)="delete()">
        <img src="assets/icones/delete.svg" alt="add" width="20px" />
    </div>
</div>
